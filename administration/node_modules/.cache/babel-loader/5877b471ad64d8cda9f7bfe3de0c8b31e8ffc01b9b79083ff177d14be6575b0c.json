{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport useEnhancedEffect from '@mui/utils/useEnhancedEffect';\nimport useEventCallback from '@mui/utils/useEventCallback';\nimport { Delaunay } from '@mui/x-charts-vendor/d3-delaunay';\nimport { getValueToPositionMapper } from \"../../../../hooks/useScale.js\";\nimport { getSVGPoint } from \"../../../getSVGPoint.js\";\nimport { useSelector } from \"../../../store/useSelector.js\";\nimport { selectorChartXAxis, selectorChartYAxis, selectorChartZoomIsInteracting } from \"../useChartCartesianAxis/index.js\";\nimport { selectorChartSeriesProcessed } from \"../../corePlugins/useChartSeries/useChartSeries.selectors.js\";\nimport { selectorChartDrawingArea } from \"../../corePlugins/useChartDimensions/index.js\";\nexport const useChartVoronoi = ({\n  svgRef,\n  params,\n  store,\n  instance\n}) => {\n  const {\n    disableVoronoi,\n    voronoiMaxRadius,\n    onItemClick\n  } = params;\n  const drawingArea = useSelector(store, selectorChartDrawingArea);\n  const {\n    axis: xAxis,\n    axisIds: xAxisIds\n  } = useSelector(store, selectorChartXAxis);\n  const {\n    axis: yAxis,\n    axisIds: yAxisIds\n  } = useSelector(store, selectorChartYAxis);\n  const zoomIsInteracting = useSelector(store, selectorChartZoomIsInteracting);\n  const {\n    series,\n    seriesOrder\n  } = useSelector(store, selectorChartSeriesProcessed)?.scatter ?? {};\n  const voronoiRef = React.useRef({});\n  const delauneyRef = React.useRef(undefined);\n  const lastFind = React.useRef(undefined);\n  const defaultXAxisId = xAxisIds[0];\n  const defaultYAxisId = yAxisIds[0];\n  useEnhancedEffect(() => {\n    store.update(prev => prev.voronoi.isVoronoiEnabled === !disableVoronoi ? prev : _extends({}, prev, {\n      voronoi: {\n        isVoronoiEnabled: !disableVoronoi\n      }\n    }));\n  }, [store, disableVoronoi]);\n  useEnhancedEffect(() => {\n    // This effect generate and store the Delaunay object that's used to map coordinate to closest point.\n\n    if (zoomIsInteracting || seriesOrder === undefined || series === undefined || disableVoronoi) {\n      // If there is no scatter chart series\n      return;\n    }\n    voronoiRef.current = {};\n    let points = [];\n    seriesOrder.forEach(seriesId => {\n      const {\n        data,\n        xAxisId,\n        yAxisId\n      } = series[seriesId];\n      const xScale = xAxis[xAxisId ?? defaultXAxisId].scale;\n      const yScale = yAxis[yAxisId ?? defaultYAxisId].scale;\n      const getXPosition = getValueToPositionMapper(xScale);\n      const getYPosition = getValueToPositionMapper(yScale);\n      const seriesPoints = data.flatMap(({\n        x,\n        y\n      }) => {\n        const pointX = getXPosition(x);\n        const pointY = getYPosition(y);\n        if (!instance.isPointInside({\n          x: pointX,\n          y: pointY\n        })) {\n          // If the point is not displayed we move them to a trash coordinate.\n          // This avoids managing index mapping before/after filtering.\n          // The trash point is far enough such that any point in the drawing area will be closer to the mouse than the trash coordinate.\n          return [-drawingArea.width, -drawingArea.height];\n        }\n        return [pointX, pointY];\n      });\n      voronoiRef.current[seriesId] = {\n        seriesId,\n        startIndex: points.length,\n        endIndex: points.length + seriesPoints.length\n      };\n      points = points.concat(seriesPoints);\n    });\n    delauneyRef.current = new Delaunay(points);\n    lastFind.current = undefined;\n  }, [zoomIsInteracting, defaultXAxisId, defaultYAxisId, series, seriesOrder, xAxis, yAxis, drawingArea, instance, disableVoronoi]);\n  React.useEffect(() => {\n    if (svgRef.current === null || disableVoronoi) {\n      return undefined;\n    }\n    const element = svgRef.current;\n    function getClosestPoint(event) {\n      // Get mouse coordinate in global SVG space\n      const svgPoint = getSVGPoint(element, event);\n      if (!instance.isPointInside(svgPoint)) {\n        lastFind.current = undefined;\n        return 'outside-chart';\n      }\n      if (!delauneyRef.current) {\n        return 'no-point-found';\n      }\n      const closestPointIndex = delauneyRef.current.find(svgPoint.x, svgPoint.y, lastFind.current);\n      if (closestPointIndex === undefined) {\n        return 'no-point-found';\n      }\n      lastFind.current = closestPointIndex;\n      const closestSeries = Object.values(voronoiRef.current).find(value => {\n        return 2 * closestPointIndex >= value.startIndex && 2 * closestPointIndex < value.endIndex;\n      });\n      if (closestSeries === undefined) {\n        return 'no-point-found';\n      }\n      const dataIndex = (2 * closestPointIndex - voronoiRef.current[closestSeries.seriesId].startIndex) / 2;\n      if (voronoiMaxRadius !== undefined) {\n        const pointX = delauneyRef.current.points[2 * closestPointIndex];\n        const pointY = delauneyRef.current.points[2 * closestPointIndex + 1];\n        const dist2 = (pointX - svgPoint.x) ** 2 + (pointY - svgPoint.y) ** 2;\n        if (dist2 > voronoiMaxRadius ** 2) {\n          // The closest point is too far to be considered.\n          return 'outside-voronoi-max-radius';\n        }\n      }\n      return {\n        seriesId: closestSeries.seriesId,\n        dataIndex\n      };\n    }\n    const handleMouseLeave = () => {\n      instance.cleanInteraction?.();\n      instance.clearHighlight?.();\n    };\n    const handleMouseMove = event => {\n      const closestPoint = getClosestPoint(event);\n      if (closestPoint === 'outside-chart') {\n        instance.cleanInteraction?.();\n        instance.clearHighlight?.();\n        return;\n      }\n      if (closestPoint === 'outside-voronoi-max-radius' || closestPoint === 'no-point-found') {\n        instance.removeItemInteraction?.();\n        instance.clearHighlight?.();\n        return;\n      }\n      const {\n        seriesId,\n        dataIndex\n      } = closestPoint;\n      instance.setItemInteraction?.({\n        type: 'scatter',\n        seriesId,\n        dataIndex\n      });\n      instance.setHighlight?.({\n        seriesId,\n        dataIndex\n      });\n    };\n    const handleMouseClick = event => {\n      if (!onItemClick) {\n        return;\n      }\n      const closestPoint = getClosestPoint(event);\n      if (typeof closestPoint === 'string') {\n        // No point fond for any reason\n        return;\n      }\n      const {\n        seriesId,\n        dataIndex\n      } = closestPoint;\n      onItemClick(event, {\n        type: 'scatter',\n        seriesId,\n        dataIndex\n      });\n    };\n    element.addEventListener('pointerleave', handleMouseLeave);\n    element.addEventListener('pointermove', handleMouseMove);\n    element.addEventListener('click', handleMouseClick);\n    return () => {\n      element.removeEventListener('pointerleave', handleMouseLeave);\n      element.removeEventListener('pointermove', handleMouseMove);\n      element.removeEventListener('click', handleMouseClick);\n    };\n  }, [svgRef, yAxis, xAxis, voronoiMaxRadius, onItemClick, disableVoronoi, drawingArea, instance]);\n\n  // Instance implementation\n  const enableVoronoiCallback = useEventCallback(() => {\n    store.update(prev => _extends({}, prev, {\n      voronoi: _extends({}, prev.voronoi, {\n        isVoronoiEnabled: true\n      })\n    }));\n  });\n  const disableVoronoiCallback = useEventCallback(() => {\n    store.update(prev => _extends({}, prev, {\n      voronoi: _extends({}, prev.voronoi, {\n        isVoronoiEnabled: false\n      })\n    }));\n  });\n  return {\n    instance: {\n      enableVoronoi: enableVoronoiCallback,\n      disableVoronoi: disableVoronoiCallback\n    }\n  };\n};\nuseChartVoronoi.getDefaultizedParams = ({\n  params\n}) => _extends({}, params, {\n  disableVoronoi: params.disableVoronoi ?? !params.series.some(item => item.type === 'scatter')\n});\nuseChartVoronoi.getInitialState = params => ({\n  voronoi: {\n    isVoronoiEnabled: !params.disableVoronoi\n  }\n});\nuseChartVoronoi.params = {\n  disableVoronoi: true,\n  voronoiMaxRadius: true,\n  onItemClick: true\n};","map":{"version":3,"names":["_extends","React","useEnhancedEffect","useEventCallback","Delaunay","getValueToPositionMapper","getSVGPoint","useSelector","selectorChartXAxis","selectorChartYAxis","selectorChartZoomIsInteracting","selectorChartSeriesProcessed","selectorChartDrawingArea","useChartVoronoi","svgRef","params","store","instance","disableVoronoi","voronoiMaxRadius","onItemClick","drawingArea","axis","xAxis","axisIds","xAxisIds","yAxis","yAxisIds","zoomIsInteracting","series","seriesOrder","scatter","voronoiRef","useRef","delauneyRef","undefined","lastFind","defaultXAxisId","defaultYAxisId","update","prev","voronoi","isVoronoiEnabled","current","points","forEach","seriesId","data","xAxisId","yAxisId","xScale","scale","yScale","getXPosition","getYPosition","seriesPoints","flatMap","x","y","pointX","pointY","isPointInside","width","height","startIndex","length","endIndex","concat","useEffect","element","getClosestPoint","event","svgPoint","closestPointIndex","find","closestSeries","Object","values","value","dataIndex","dist2","handleMouseLeave","cleanInteraction","clearHighlight","handleMouseMove","closestPoint","removeItemInteraction","setItemInteraction","type","setHighlight","handleMouseClick","addEventListener","removeEventListener","enableVoronoiCallback","disableVoronoiCallback","enableVoronoi","getDefaultizedParams","some","item","getInitialState"],"sources":["/home/jonaykb/Routine-Fights/administration/node_modules/@mui/x-charts/esm/internals/plugins/featurePlugins/useChartVoronoi/useChartVoronoi.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport useEnhancedEffect from '@mui/utils/useEnhancedEffect';\nimport useEventCallback from '@mui/utils/useEventCallback';\nimport { Delaunay } from '@mui/x-charts-vendor/d3-delaunay';\nimport { getValueToPositionMapper } from \"../../../../hooks/useScale.js\";\nimport { getSVGPoint } from \"../../../getSVGPoint.js\";\nimport { useSelector } from \"../../../store/useSelector.js\";\nimport { selectorChartXAxis, selectorChartYAxis, selectorChartZoomIsInteracting } from \"../useChartCartesianAxis/index.js\";\nimport { selectorChartSeriesProcessed } from \"../../corePlugins/useChartSeries/useChartSeries.selectors.js\";\nimport { selectorChartDrawingArea } from \"../../corePlugins/useChartDimensions/index.js\";\nexport const useChartVoronoi = ({\n  svgRef,\n  params,\n  store,\n  instance\n}) => {\n  const {\n    disableVoronoi,\n    voronoiMaxRadius,\n    onItemClick\n  } = params;\n  const drawingArea = useSelector(store, selectorChartDrawingArea);\n  const {\n    axis: xAxis,\n    axisIds: xAxisIds\n  } = useSelector(store, selectorChartXAxis);\n  const {\n    axis: yAxis,\n    axisIds: yAxisIds\n  } = useSelector(store, selectorChartYAxis);\n  const zoomIsInteracting = useSelector(store, selectorChartZoomIsInteracting);\n  const {\n    series,\n    seriesOrder\n  } = useSelector(store, selectorChartSeriesProcessed)?.scatter ?? {};\n  const voronoiRef = React.useRef({});\n  const delauneyRef = React.useRef(undefined);\n  const lastFind = React.useRef(undefined);\n  const defaultXAxisId = xAxisIds[0];\n  const defaultYAxisId = yAxisIds[0];\n  useEnhancedEffect(() => {\n    store.update(prev => prev.voronoi.isVoronoiEnabled === !disableVoronoi ? prev : _extends({}, prev, {\n      voronoi: {\n        isVoronoiEnabled: !disableVoronoi\n      }\n    }));\n  }, [store, disableVoronoi]);\n  useEnhancedEffect(() => {\n    // This effect generate and store the Delaunay object that's used to map coordinate to closest point.\n\n    if (zoomIsInteracting || seriesOrder === undefined || series === undefined || disableVoronoi) {\n      // If there is no scatter chart series\n      return;\n    }\n    voronoiRef.current = {};\n    let points = [];\n    seriesOrder.forEach(seriesId => {\n      const {\n        data,\n        xAxisId,\n        yAxisId\n      } = series[seriesId];\n      const xScale = xAxis[xAxisId ?? defaultXAxisId].scale;\n      const yScale = yAxis[yAxisId ?? defaultYAxisId].scale;\n      const getXPosition = getValueToPositionMapper(xScale);\n      const getYPosition = getValueToPositionMapper(yScale);\n      const seriesPoints = data.flatMap(({\n        x,\n        y\n      }) => {\n        const pointX = getXPosition(x);\n        const pointY = getYPosition(y);\n        if (!instance.isPointInside({\n          x: pointX,\n          y: pointY\n        })) {\n          // If the point is not displayed we move them to a trash coordinate.\n          // This avoids managing index mapping before/after filtering.\n          // The trash point is far enough such that any point in the drawing area will be closer to the mouse than the trash coordinate.\n          return [-drawingArea.width, -drawingArea.height];\n        }\n        return [pointX, pointY];\n      });\n      voronoiRef.current[seriesId] = {\n        seriesId,\n        startIndex: points.length,\n        endIndex: points.length + seriesPoints.length\n      };\n      points = points.concat(seriesPoints);\n    });\n    delauneyRef.current = new Delaunay(points);\n    lastFind.current = undefined;\n  }, [zoomIsInteracting, defaultXAxisId, defaultYAxisId, series, seriesOrder, xAxis, yAxis, drawingArea, instance, disableVoronoi]);\n  React.useEffect(() => {\n    if (svgRef.current === null || disableVoronoi) {\n      return undefined;\n    }\n    const element = svgRef.current;\n    function getClosestPoint(event) {\n      // Get mouse coordinate in global SVG space\n      const svgPoint = getSVGPoint(element, event);\n      if (!instance.isPointInside(svgPoint)) {\n        lastFind.current = undefined;\n        return 'outside-chart';\n      }\n      if (!delauneyRef.current) {\n        return 'no-point-found';\n      }\n      const closestPointIndex = delauneyRef.current.find(svgPoint.x, svgPoint.y, lastFind.current);\n      if (closestPointIndex === undefined) {\n        return 'no-point-found';\n      }\n      lastFind.current = closestPointIndex;\n      const closestSeries = Object.values(voronoiRef.current).find(value => {\n        return 2 * closestPointIndex >= value.startIndex && 2 * closestPointIndex < value.endIndex;\n      });\n      if (closestSeries === undefined) {\n        return 'no-point-found';\n      }\n      const dataIndex = (2 * closestPointIndex - voronoiRef.current[closestSeries.seriesId].startIndex) / 2;\n      if (voronoiMaxRadius !== undefined) {\n        const pointX = delauneyRef.current.points[2 * closestPointIndex];\n        const pointY = delauneyRef.current.points[2 * closestPointIndex + 1];\n        const dist2 = (pointX - svgPoint.x) ** 2 + (pointY - svgPoint.y) ** 2;\n        if (dist2 > voronoiMaxRadius ** 2) {\n          // The closest point is too far to be considered.\n          return 'outside-voronoi-max-radius';\n        }\n      }\n      return {\n        seriesId: closestSeries.seriesId,\n        dataIndex\n      };\n    }\n    const handleMouseLeave = () => {\n      instance.cleanInteraction?.();\n      instance.clearHighlight?.();\n    };\n    const handleMouseMove = event => {\n      const closestPoint = getClosestPoint(event);\n      if (closestPoint === 'outside-chart') {\n        instance.cleanInteraction?.();\n        instance.clearHighlight?.();\n        return;\n      }\n      if (closestPoint === 'outside-voronoi-max-radius' || closestPoint === 'no-point-found') {\n        instance.removeItemInteraction?.();\n        instance.clearHighlight?.();\n        return;\n      }\n      const {\n        seriesId,\n        dataIndex\n      } = closestPoint;\n      instance.setItemInteraction?.({\n        type: 'scatter',\n        seriesId,\n        dataIndex\n      });\n      instance.setHighlight?.({\n        seriesId,\n        dataIndex\n      });\n    };\n    const handleMouseClick = event => {\n      if (!onItemClick) {\n        return;\n      }\n      const closestPoint = getClosestPoint(event);\n      if (typeof closestPoint === 'string') {\n        // No point fond for any reason\n        return;\n      }\n      const {\n        seriesId,\n        dataIndex\n      } = closestPoint;\n      onItemClick(event, {\n        type: 'scatter',\n        seriesId,\n        dataIndex\n      });\n    };\n    element.addEventListener('pointerleave', handleMouseLeave);\n    element.addEventListener('pointermove', handleMouseMove);\n    element.addEventListener('click', handleMouseClick);\n    return () => {\n      element.removeEventListener('pointerleave', handleMouseLeave);\n      element.removeEventListener('pointermove', handleMouseMove);\n      element.removeEventListener('click', handleMouseClick);\n    };\n  }, [svgRef, yAxis, xAxis, voronoiMaxRadius, onItemClick, disableVoronoi, drawingArea, instance]);\n\n  // Instance implementation\n  const enableVoronoiCallback = useEventCallback(() => {\n    store.update(prev => _extends({}, prev, {\n      voronoi: _extends({}, prev.voronoi, {\n        isVoronoiEnabled: true\n      })\n    }));\n  });\n  const disableVoronoiCallback = useEventCallback(() => {\n    store.update(prev => _extends({}, prev, {\n      voronoi: _extends({}, prev.voronoi, {\n        isVoronoiEnabled: false\n      })\n    }));\n  });\n  return {\n    instance: {\n      enableVoronoi: enableVoronoiCallback,\n      disableVoronoi: disableVoronoiCallback\n    }\n  };\n};\nuseChartVoronoi.getDefaultizedParams = ({\n  params\n}) => _extends({}, params, {\n  disableVoronoi: params.disableVoronoi ?? !params.series.some(item => item.type === 'scatter')\n});\nuseChartVoronoi.getInitialState = params => ({\n  voronoi: {\n    isVoronoiEnabled: !params.disableVoronoi\n  }\n});\nuseChartVoronoi.params = {\n  disableVoronoi: true,\n  voronoiMaxRadius: true,\n  onItemClick: true\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}